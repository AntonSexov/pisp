# pisp
 - Ведерников Антон Владимирович, P3223
 - Вариант: ```asm | acc | harv | hw | instr | struct | stream | mem | cstr | prob2 ```
 - Упрощенный вариант
 ## Язык
 ### Форма Бэкуса-Наура
 ```endf
 <программа> ::=
	 ".data" <перенос строки> <данные> [комментарий] <перенос строки>
	 ".code" <перенос строки> "begin:" { <инструкция> | <метка> } [комментарий] <перенос строки> "end" <перенос строки> <EOF>
<данные> ::= <метка переменной>":" <переменная> [комментарий] <перенос строки>
<инструкция> ::= <адресная команда> <операнд> [комментарий] <перенос строки> | <безадресная команда> [комментарий] <перенос строки> | <команда перехода> <метка перехода> [комментарий] <перенос строки>

<команда перехода> ::= "jmp" | "jifn" | "jifnn" | "jifz" | "jifnz"
<адресная команда> ::= "load" | "store" | "add" | "sub" | "mod"
<безадресная команда> ::= "hlt" | "nop"
<операнд> ::= <число>| "&"<число> | <метка переменной> | "&"<метка переменной>
<метка перехода> ::= <идентификатор> | "&"<число>

<метка переменной> ::= <слово>
<переменная> ::= <число> | """<слово>"""

<идентификатор> ::= <слово>
<комментарий> ::= ";" {<слово> | <число>}

<перенос строки> ::= "\n"
<слово> ::= <буква> {<буква>}
<число> ::= ["-"]<цифра> {<цифра>}
<буква> ::= a | b | c | ... | z | A | B | C | ... | Z
<цифра> ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9
 ```

 - Видимость данных - глобальная
 - Поддерживаются целочисленные ($-2^{31}$ до $2^{31}-1$) и строковые литералы
 - Любые символы расположенные после `;` - комментарии
 - В секции `.data` должны быть только переменные
 - В секции `.code` должны быть только команды и метки
 - Метки должны быть объявлены до применения
## Организация памяти
- Память команд и память данных разделены
```
        data memory
+----------------------------+
| 00 :  input address        |
| 01 :  output address       |
|         variables          |
|             .              |
|             .              |
|             .              |
| 2047 :       ...           |
+----------------------------+

     instruction memory
+----------------------------+
| 00 :  instruction 1        |
| 01 :  instruction 2        |
|       instructions         |
|             .              |
|             .              |
|             .              |
| 2047 :       ...           |
+----------------------------+
```




```python3 runner.py <input file> <machine code file>```